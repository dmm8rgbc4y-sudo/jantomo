{% extends 'base_minimal.html' %}
{% block title %}{% if mode == 'login' %}ãƒ­ã‚°ã‚¤ãƒ³{% else %}æ–°è¦ç™»éŒ²{% endif %}{% endblock %}

{% block content %}
<h2>{% if mode == 'login' %}ãƒ­ã‚°ã‚¤ãƒ³{% else %}æ–°è¦ç™»éŒ²{% endif %}</h2>

{% with messages = get_flashed_messages(with_categories=true) %}
  {% if messages %}
    {% for category, message in messages %}
      <div class="flash-message {{ category }}">{{ message }}</div>
    {% endfor %}
  {% endif %}
{% endwith %}

<form method="POST" novalidate>

  <!-- ğŸ” CSRF hidden inputï¼ˆã“ã‚Œã ã‘ã§OKï¼‰ -->
  <input type="hidden" name="csrf_token" value="{{ csrf_token() }}">

  <label>ãƒ¦ãƒ¼ã‚¶ãƒ¼åï¼š</label>
  <input type="text" name="username" placeholder="ä¾‹ï¼šTaro" required>

  <label>PINï¼ˆ4ã€œ6æ¡ï¼‰ï¼š</label>
  <input type="password" name="pin" placeholder="ä¾‹ï¼š1234" inputmode="numeric" required>

  <button type="submit">
    {% if mode == 'login' %}ãƒ­ã‚°ã‚¤ãƒ³{% else %}ç™»éŒ²ã—ã¦å§‹ã‚ã‚‹{% endif %}
  </button>
</form>

{% if mode == 'login' %}
  <p style="margin-top: 12px; text-align:center;">
    ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã‚’ãŠæŒã¡ã§ãªã„æ–¹ã¯<br>
    <a href="{{ url_for('auth.register') }}">æ–°è¦ç™»éŒ²ã¯ã“ã¡ã‚‰</a>
  </p>
{% else %}
  <p style="margin-top: 12px; text-align:center;">
    ã™ã§ã«ç™»éŒ²æ¸ˆã¿ã®æ–¹ã¯<br>
    <a href="{{ url_for('auth.login') }}">ãƒ­ã‚°ã‚¤ãƒ³ã¯ã“ã¡ã‚‰</a>
  </p>
{% endif %}
{% endblock %}
