{% extends 'base.html' %}
{% block title %}å‹é”ç”³è«‹å—é ˜ - ã˜ã‚ƒã‚“ã¨ã‚‚{% endblock %}

{% block content %}
<header class="page-header">
  <h2>å‹é”ç”³è«‹å—é ˜</h2>
</header>

<main class="friend-inbox">
  {% if requests %}
    {% for r in requests %}
      <form method="POST" class="request-card">

        <!-- ğŸ” Flask-WTF æ­£å¼ã® CSRF hidden fieldï¼ˆå„ãƒ•ã‚©ãƒ¼ãƒ ã«å¿…è¦ï¼‰ -->
        {{ csrf_field() }}

        <div class="request-info">
          <div class="request-icon">{{ r.username[0] }}</div>
          <div class="request-name">{{ r.username }} ã•ã‚“ã‹ã‚‰ç”³è«‹ãŒå±Šã„ã¦ã„ã¾ã™</div>
        </div>

        <input type="hidden" name="from_user_id" value="{{ r.id }}">

        <div class="request-actions">
          <button type="submit" name="action" value="accept" class="accept-btn">æ‰¿èª</button>
          <button type="submit" name="action" value="reject" class="reject-btn">æ‹’å¦</button>
        </div>
      </form>
    {% endfor %}
  {% else %}
    <p class="no-requests">ç”³è«‹ã¯ã‚ã‚Šã¾ã›ã‚“ã€‚</p>
  {% endif %}
</main>
{% endblock %}
